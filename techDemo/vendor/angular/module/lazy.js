!function(){"use strict";angular.module("rn-lazy",[]).directive("rnLazyBackground",["$document","$parse",function(n,a){return{restrict:"A",link:function(r,e,o){function s(n){l&&(n.html(""),n.append(l),n.css({"background-image":null}))}var l=null;angular.isDefined(o.rnLazyLoader)&&(l=angular.element(n[0].querySelector(o.rnLazyLoader)).clone());var i=a(o.rnLazyBackground);r.$watch(i,function(){s(e);var a=i(r),u=n[0].createElement("img");u.onload=function(){l&&l.remove(),angular.isDefined(o.rnLazyLoadingClass)&&e.removeClass(o.rnLazyLoadingClass),angular.isDefined(o.rnLazyLoadedClass)&&e.addClass(o.rnLazyLoadedClass),e.css({"background-image":"url("+this.src+")"})},u.onerror=function(){},u.src=a})}}}])}();